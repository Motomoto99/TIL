# 関数についてまとめる

## 目次
- 関数宣言・関数式
- 仮引数と実引数
- 戻り値
- Functionコンストラクタ
- デフォルト引数
- コールバック関数
- 無名関数
- アロー関数


## 関数宣言・関数式
### 関数宣言
```
function hello(){
    console.log("こんにちは");
}

function multiply(val1,val2){
    return val1 * val2;
}

hello()
let result = multiply(20,30);
console.log(result)
⇒こんにちは
⇒600
```
先に関数自体を宣言して、それを使うって感じかな  
関数宣言の場合、関数宣言の記述より前に関数の呼び出しを行っても実行することができる。

### 関数式
```
const multiply = funciton(val1,val2){
    return val1 * val2;
}
multiply(20,20);
⇒400
```
代入演算子を使って関数式を変数に代入している  
関数式より前で関数の呼び出しを行うとエラーが発生する。

### 二つの違い
関数宣言の方は、関数名が重複してもエラーは出ないが後に書いた方で上書きされる。  
関数式は代入する変数の再宣言によるエラーが発生するらしい。  
ES Mudulesを有効かにすると関数名の重複エラーが発生する  

## 仮引数と実引数
関数実行文にある引数が「実引数」  
`let result = sum(10,20);`  
関数宣言文にある引数を「仮引数」という  
```
function sum(val1,val2){
    return val1 + val2;
}
```

## 戻り値
関数内のreturn文が実行された時点でその関数処理は終了する。  
複数のreturn文を記述できるが一番最初にreturn文が実行された時点でその関数処理は終了する。  
return文が関数内に存在しない場合、戻り値としてundefinedが実行もとに返される。

---

## Functionコンストラクタ
あんまり使わないらしいけど、また出てきたとき確認しようか  
`const add = new Function("val1","val2","return val1 + val2;");`

---
## デフォルト引数
関数宣言のほうであらかじめ仮引数の初期値を設定しておく。  
実引数が渡されなかったらそれをつかって、渡されたら上書きって感じ  
※渡されなかったってのは、undefinedが渡されたときってことみたい

---
## コールバック関数
定義した関数を引数として渡して、その関数内で関数を実行できるってことかな。  
注意として、関数の戻り値を関数の実引数として渡しているわけではなく、関数自体を仮引数として渡しているって感じかな。  
コールバック関数ってのは、引数になげる関数のことなんかもな。
```
function hello(){
        return "こんにちは";
}
function fn(callback){
        const result = callback();
        console.log(`${resutl}、モトちゃん`);
}
fn(hello);
⇒　こんにちは、モトちゃん
```
- setTimeoutっていう組み込み関数(最初から用意されている自由に使っていいよっていう関数)。  
```
function setTimeout( callback,ms,arg1){
        //ms秒間待機
        callback(arg1);
}
```
第一引数で渡したコールバック関数を特定の秒数だけ待ってから実行する関数。  
`setTimeout( hello,3000);`  
秒数はミリ秒単位。このコードは3秒。
秒数指定の後ろにはコールバック関数の引数を指定することができる  
`setTimeout( hello,5000,"モトちゃん");`  
hello関数に"モトちゃん"っていう引数を渡して５秒後にhello関数を実行させるって感じ。  
引数は関数に合わせて増やせるってことだと思う

---
## 無名関数
名前のない関数のことだけど、要するに関数自体を定義したコードってイメージがいいかも  
`function(){ console.log(); }`  
関数式やオブジェクトのプロパティに関数を設定するのも無名関数を使ってるって考えられる  
`const fn = function(){ console.log(); };`  
```
const obj = {
        method: function(){ console.log(); }
}
```

---
## アロー関数
無名関数の省略記法らしい。矢印使うやつ。見たことあったけどこれのことか。  
### 引数による省略の変化
- 引数なし  
`() => {};`  
- 引数一つ  
`引数 => {};`  
()を省略できる。  
- 引数複数  
`(引数,引数) => {};`  
()が必要。  
### 実行文による省略の変化
- 実行文１行  
`() => 関数の実行文;`  
{}が省略できる。実行文1行が戻り値になる。  
- 実行文複数行  
```
() => {
        関数の実行文;
        return 戻り値;
}
```
戻り値が必要な場合は記述する。  
- 実行文１行、戻り値がオブジェクトの場合  
`() => ({プロパティ1: 値1,プロパティ2: 値2 })`  
一行なら{}は省略できるが、オブジェクトだから()で囲んで区別つけてる感じかな。

### アロー関数と無名関数の違い

|キーワード | 無名関数| アロー関数|
----|----|----
|this | thisを持つ | thisを持たない|
|arguments | argumentsを持つ| argumentsを持たない|
| new | newでのインスタンス化が可能| newでのインスタンス化が不可 |
| prototype | prototypeを持つ| prototypeを持たない |
